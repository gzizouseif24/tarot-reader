# ğŸŒ™ Celestial Tarot

A mystical tarot reading application with **AI-powered interpretations** built with React, TypeScript, and FastAPI. Seek guidance from the void with an interactive digital tarot deck featuring all 78 Rider-Waite cards and personalized readings generated by Qwen AI.

## âœ¨ Features

- **Complete 78-Card Deck**: Full Rider-Waite tarot deck including 22 Major Arcana and 56 Minor Arcana cards
- **AI-Powered Readings**: Personalized tarot interpretations generated by Qwen LLM via Dashscope API
- **Interactive Card Drawing**: Shuffle and draw cards with smooth animations powered by Framer Motion
- **Intention-Based Readings**: Enter your question or intention before drawing cards
- **Card Orientations**: Support for upright and reversed card meanings
- **Multiple Spread Types**: Single card or three-card (Past/Present/Future) spreads
- **Responsive Design**: Beautiful, mystical UI styled with Tailwind CSS
- **Type-Safe**: Fully typed with TypeScript for robust development

## ğŸ´ Deck Structure

The application includes:
- 22 Major Arcana cards (The Fool through The World)
- 56 Minor Arcana cards across four suits:
  - Wands (Fire element)
  - Cups (Water element)
  - Swords (Air element)
  - Pentacles (Earth element)

Each card contains:
- Card name and number
- Arcana type and suit
- Keywords
- Upright and reversed meanings
- Associated imagery

## ğŸš€ Getting Started

### Prerequisites

- Node.js (v18 or higher recommended)
- npm or yarn
- Python 3.8+ (for AI backend)
- Dashscope API key ([Get one here](https://dashscope.aliyun.com/))

### Frontend Installation

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

### Backend Installation (AI-Powered Readings)

```bash
# Navigate to backend directory
cd tarot-back

# Install Python dependencies
pip install -r requirements.txt

# Configure environment variables
cp .env.example .env
# Edit .env and add your DASHSCOPE_API_KEY

# Start the backend server
python app.py
```

The backend server will run on `http://localhost:8000` and the frontend will automatically connect to it for AI-powered readings.

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 19** - UI framework
- **TypeScript** - Type safety
- **Vite** - Build tool and dev server
- **Framer Motion** - Animation library
- **Tailwind CSS** - Styling
- **ESLint** - Code linting

### Backend (tarot-back)
- **FastAPI** - Modern Python web framework
- **Qwen (Dashscope)** - AI model for generating personalized readings
- **OpenAI SDK** - Compatible API client for Dashscope
- **Pydantic** - Data validation
- **Uvicorn** - ASGI server

## ğŸ“ Project Structure

```
src/                      # Frontend source code
â”œâ”€â”€ components/           # React components
â”‚   â”œâ”€â”€ Card/            # Card display component
â”‚   â”œâ”€â”€ Deck/            # Deck visualization component
â”‚   â””â”€â”€ ReadingTypeSelector/  # Spread type selector
â”œâ”€â”€ data/                # Tarot card data
â”‚   â”œâ”€â”€ majorArcana.ts
â”‚   â”œâ”€â”€ minorArcana.ts
â”‚   â”œâ”€â”€ types.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/               # Custom React hooks
â”‚   â”œâ”€â”€ useDeck.ts       # Deck management logic
â”‚   â””â”€â”€ useTarotApi.ts   # API integration for AI readings
â”œâ”€â”€ utils/               # Utility functions
â”œâ”€â”€ App.tsx              # Main application component
â””â”€â”€ main.tsx             # Application entry point

tarot-back/              # AI-powered backend
â”œâ”€â”€ app.py               # FastAPI application
â”œâ”€â”€ services/            # Business logic
â”‚   â””â”€â”€ llm_service.py   # LLM integration (Qwen/Dashscope)
â”œâ”€â”€ prompts/             # Prompt engineering
â”‚   â””â”€â”€ reading_prompt.py  # Tarot reading prompt templates
â”œâ”€â”€ requirements.txt     # Python dependencies
â””â”€â”€ README.md            # Backend documentation
```

## ğŸ¯ Usage

1. **Start Both Servers**: Run the frontend (`npm run dev`) and backend (`python tarot-back/app.py`)
2. **Enter Your Question**: Type your question or intention in the input field
3. **Select Spread Type**: Choose between single card or three-card spread
4. **Draw Cards**: Click "Reveal Destiny" to draw your cards
5. **Get AI Reading**: The app automatically generates a personalized reading using AI
6. **New Reading**: Click "New Reading" to start over with a fresh question

### Without Backend
The app works without the backend server - you'll see card meanings but won't get AI-generated personalized readings.

## ğŸ”® AI Reading System

The backend uses a sophisticated prompt engineering system to generate personalized tarot readings:

- **Context-Aware**: Analyzes your specific question and the drawn cards
- **Position-Based**: Interprets cards based on their position (Past/Present/Future)
- **Orientation-Sensitive**: Considers upright vs reversed card meanings
- **Narrative Synthesis**: Weaves multiple cards into a cohesive story
- **Mystical Tone**: Maintains authentic tarot reader voice while being accessible

### API Endpoint

**POST** `/api/reading`

Request body:
```json
{
  "question": "Your question here",
  "cards": [
    {
      "card_name": "The Fool",
      "orientation": "upright",
      "keywords": ["beginnings", "innocence"],
      "meaning": "Card meaning based on orientation"
    }
  ]
}
```

Response:
```json
{
  "reading": "AI-generated personalized reading text..."
}
```

## ğŸ”® Future Enhancements

Potential features for future development:
- Additional spread types (Celtic Cross, Horseshoe)
- Reading history and saved readings
- User accounts and authentication
- Dark/light theme toggle
- Enhanced card animations
- Multi-language support

## ğŸ“ License

This project is open source and available under the MIT License.

## ğŸ™ Acknowledgments

- Rider-Waite Tarot deck imagery and interpretations
- Built with modern web technologies for a seamless mystical experience
